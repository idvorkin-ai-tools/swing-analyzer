# Retro: Week of Dec 7-14, 2025

**Generated:** 2025-12-14
**Last Updated:** 2025-12-14 (end of day)
**Period:** 2025-12-07 to 2025-12-14
**Project:** swing-analyzer (all instances)

---

## Summary Metrics

### Claude Usage (All Projects - Week Total)

| Metric           | Value                               |
| ---------------- | ----------------------------------- |
| Total Messages   | 36,632                              |
| Total Sessions   | 102                                 |
| Total Tool Calls | 11,679                              |
| Peak Day         | Dec 7 (41 sessions, 18.8K messages) |

### Daily Activity

| Date   | Messages | Sessions | Tool Calls |
| ------ | -------- | -------- | ---------- |
| Dec 7  | 18,795   | 41       | 6,021      |
| Dec 8  | 5,054    | 14       | 1,671      |
| Dec 10 | 1,858    | 13       | 717        |
| Dec 11 | 1,510    | 8        | 555        |
| Dec 12 | 552      | 4        | 194        |
| Dec 13 | 8,863    | 22       | 2,521      |

### Model Usage

| Model      | Output Tokens | Cache Reads |
| ---------- | ------------- | ----------- |
| Opus 4.5   | 3.09M         | 2.85B       |
| Sonnet 4.5 | 778K          | 384M        |

### Beads Stats

| Metric        | Value    |
| ------------- | -------- |
| Total Issues  | 174      |
| Open          | 5        |
| In Progress   | 1        |
| Closed        | 168      |
| Avg Lead Time | 16.5 hrs |

---

## What Went Well

### Features Delivered

- Branded types for angles/coordinates (type safety)
- Wrist velocity display in HUD
- Dynamic HUD rendering by exercise type
- Precomputed wrist speeds with smoothing
- Menu system redesign
- Landscape zoom feature
- Rep gallery improvements (clickable HUD, touch scrolling)
- Lazy thumbnail generation for cached poses
- Bundle pose tracks with sample videos
- Pistol squat analyzer and exercise detection
- 33-point MediaPipe keypoint format upgrade

### PRs Merged to Upstream (20 PRs this week!)

| PR  | Title                                                    | Merged |
| --- | -------------------------------------------------------- | ------ |
| #89 | Extend branded types for angles, coordinates, scores     | Dec 14 |
| #88 | Improve error logging for video load failures            | Dec 14 |
| #87 | Precomputed wrist speeds with branded types, dynamic HUD | Dec 14 |
| #86 | Redesign menu system (#81, #80, #35)                     | Dec 13 |
| #85 | Landscape video zoom for portrait viewing                | Dec 13 |
| #84 | Agent improvements: muted video, tests, performance      | Dec 13 |
| #83 | Lazy thumbnail generation and bundled pose tracks        | Dec 13 |
| #82 | Lazy thumbnail generation for cached pose tracks         | Dec 13 |
| #78 | Bundle pose tracks with sample videos + race conditions  | Dec 13 |
| #77 | Simplify rep nav strip - show only phase                 | Dec 11 |
| #76 | ThumbnailCanvas, pre-commit hooks, E2E tests             | Dec 11 |
| #75 | Replace RepGalleryWidget DOM with React component        | Dec 10 |
| #73 | Improve pistol squat bottom detection                    | Dec 8  |
| #72 | Auto exercise detection and pistol squat support         | Dec 8  |
| #71 | Simplify swing analyzer - always use right arm           | Dec 7  |
| #70 | Mobile UI, Rep Gallery, video playback enhancements      | Dec 7  |
| #68 | Add Claude Code GitHub Workflow                          | Dec 7  |
| #67 | Remove stop button, resize video control buttons         | Dec 7  |

### Process Wins

- **20 PRs merged in one week** - aggressive velocity
- Multiple agents working in parallel effectively
- Beads tracking working well for task management (168 closed, avg 16.5 hr lead time)
- E2E tests catching issues before merge
- Branded types improving type safety across codebase

---

## What Didn't Go Well

### Friction Patterns (from Claude logs)

**Direction Corrections (25+ instances):**

- "No, make the PR against origin/main"
- "No look at the code in origin/main"
- "NO https://github.com/.../commits should only have that fix not the other crap"

**Themes:**

1. **PR Scope Issues** - PRs including unrelated changes
2. **Rebase Confusion** - "Why do we keep messing that up?"
3. **Branch Target Mistakes** - PRs against wrong branches
4. **Debugging Loops** - "Are you stuck?" / "try again"

### Technical Issues

- Rep gallery scroll behavior took multiple iterations
- Zoom feature required several CSS transform fixes
- E2E test selectors breaking on UI changes

---

## Action Items

### Process Improvements

1. [ ] **PR Scope Discipline** - Add pre-PR checklist: "Does this PR contain ONLY the requested changes?"
2. [ ] **Rebase Workflow** - Document common rebase scenarios and fixes
3. [ ] **E2E Selector Stability** - Prefer data-testid over dynamic IDs

### Documentation Updates

1. [ ] Add retro workflow to CLAUDE.md
2. [ ] Add usage review commands to CLAUDE.md
3. [ ] Document PR scope guidelines more explicitly

### Technical Debt

1. [ ] swing-7 inactive (0 commits) - consider cleaning up
2. [ ] swing-3 on stale branch - merge or rebase
3. [ ] Multiple swing-analyzer-\* clones may be stale

### Open Work (5 issues)

| ID         | Title                                           | Priority |
| ---------- | ----------------------------------------------- | -------- |
| swing-56e  | Add pistol squat support (epic)                 | P1       |
| swing-1n08 | Fix flaky E2E tests: double-click, rapid reload | P3       |
| swing-0q12 | Investigate large hook file (1584 lines)        | P3       |
| swing-q86  | DRY: Extract shared thumbnail crop calculation  | P3       |
| swing-7xc  | Improve docstring coverage to 80%               | P3       |

### In Progress

| ID         | Title                                    | Assignee                |
| ---------- | ---------------------------------------- | ----------------------- |
| swing-0q5g | Extend branded types throughout codebase | claude-orbstack-swing-6 |

---

## Metrics to Track Next Retro

- Correction count ("No..." messages)
- Rework cycles (commits with "fix:" after initial implementation)
- Time from task start to PR merge
- Test coverage for new features

---

## Workflow Recommendations (Merged)

_From session 2025-12-05:_

| Pattern                                                | Recommendation                                            | Status    |
| ------------------------------------------------------ | --------------------------------------------------------- | --------- |
| Agent created worktrees, user corrected to full clones | Use full clones for multi-agent setups, not worktrees     | ✅ merged |
| Confusion about which remote to push to                | Document: `origin` = ai-tools fork, `upstream` = idvorkin | ✅ merged |
| Agent reviewed chop-conventions without pulling latest | Always fetch/pull before reviewing external repos         | ✅ merged |
| Agent missed commit ID in "Last reviewed" date         | PR #7 sent to chop-conventions                            | ✅ merged |

---

## Notes

This is the first formal weekly retro. Baseline established for future comparison.

**Week Highlights:**

- 20 PRs merged - highest velocity week yet
- Pistol squat exercise type added (major feature)
- Branded types initiative improving codebase safety
- 168 beads issues closed with 16.5 hr average lead time

Previous workflow recommendations (`.claude/workflow-recommendations/`) have been merged into this retro system.

**Next retro:** Week of Dec 14-21, 2025
